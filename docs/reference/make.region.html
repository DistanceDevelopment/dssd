<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>Creates a Region object — make.region • dssd</title><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.4.2/css/all.min.css" rel="stylesheet"><link href="../deps/font-awesome-6.4.2/css/v4-shims.min.css" rel="stylesheet"><script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Creates a Region object — make.region"><meta name="description" content="This creates an instance of the Region class which defines the study
area for the survey."><meta property="og:description" content="This creates an instance of the Region class which defines the study
area for the survey."><script type="text/javascript"> (function(c,l,a,r,i,t,y){ c[a]=c[a]||function(){(c[a].q=c[a].q||[]).push(arguments)}; t=l.createElement(r);t.async=1;t.src="https://www.clarity.ms/tag/"+i;  y=l.getElementsByTagName(r)[0];y.parentNode.insertBefore(t,y);})(window, document, "clarity","script", "m9tfz3zc93");</script></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-primary" data-bs-theme="dark" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">dssd</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">1.0.3</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="active nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-articles" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Articles</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-articles"><li><a class="dropdown-item" href="../articles/GettingStarted.html">Getting Started with dssd</a></li>
    <li><a class="dropdown-item" href="../articles/MultiStrataVignette.html">Multiple Strata in dssd</a></li>
  </ul></li>
<li class="nav-item"><a class="nav-link" href="../news/index.html">Changelog</a></li>
      </ul><ul class="navbar-nav"><li class="nav-item"><a class="external-link nav-link" href="https://twitter.com/distancesamp" aria-label="Twitter"><span class="fa fa-twitter"></span></a></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/DistanceDevelopment/dssd/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
      </ul></div>


  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">

      <h1>Creates a Region object</h1>
      <small class="dont-index">Source: <a href="https://github.com/DistanceDevelopment/dssd/blob/HEAD/R/Class.Constructors.R" class="external-link"><code>R/Class.Constructors.R</code></a></small>
      <div class="d-none name"><code>make.region.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p>This creates an instance of the Region class which defines the study
area for the survey.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">make.region</span><span class="op">(</span></span>
<span>  region.name <span class="op">=</span> <span class="st">"region"</span>,</span>
<span>  strata.name <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/character.html" class="external-link">character</a></span><span class="op">(</span><span class="fl">0</span><span class="op">)</span>,</span>
<span>  units <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/character.html" class="external-link">character</a></span><span class="op">(</span><span class="fl">0</span><span class="op">)</span>,</span>
<span>  shape <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  dist.for.win <span class="op">=</span> <span class="cn">FALSE</span></span>
<span><span class="op">)</span></span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>


<dl><dt id="arg-region-name">region.name<a class="anchor" aria-label="anchor" href="#arg-region-name"></a></dt>
<dd><p>the region name</p></dd>


<dt id="arg-strata-name">strata.name<a class="anchor" aria-label="anchor" href="#arg-strata-name"></a></dt>
<dd><p>the strata names (character vector, same length as the
number of areas in the shapefile / sf object). If not supplied "A", "B",
"C", ... will be assigned. The strata names should be provided in the
order they appear in the shapefile. See details.</p></dd>


<dt id="arg-units">units<a class="anchor" aria-label="anchor" href="#arg-units"></a></dt>
<dd><p>measurement units; either <code>"m"</code> for metres or <code>"km"</code> for
kilometres. If the shapefile has a projection file associated with it the units
will be taken from there.</p></dd>


<dt id="arg-shape">shape<a class="anchor" aria-label="anchor" href="#arg-shape"></a></dt>
<dd><p>shapefile path to .shp file or an sf object of class sf, sfc or sfg.</p></dd>


<dt id="arg-dist-for-win">dist.for.win<a class="anchor" aria-label="anchor" href="#arg-dist-for-win"></a></dt>
<dd><p>logical indicating if the region is being created via
Distance for Windows (default = FALSE). See details.</p></dd>

</dl></div>
    <div class="section level2">
    <h2 id="value">Value<a class="anchor" aria-label="anchor" href="#value"></a></h2>
    <p>object of class Region</p>
    </div>
    <div class="section level2">
    <h2 id="details">Details<a class="anchor" aria-label="anchor" href="#details"></a></h2>
    <p>The strata names should be provided in the order the strata are
presented in the shapefile or sf shape object. This can be simply checked
after creating the region by plotting it and checking that the key correctly
identifies the strata. Note that the order Distance for Windows displays the
strata in sometimes differs from the order in which they are stored in the
shapefile. If running from Distance for Windows then this will be checked
and if they don't match a warning will be displayed saying that they are
being re-ordered.</p>
    </div>
    <div class="section level2">
    <h2 id="author">Author<a class="anchor" aria-label="anchor" href="#author"></a></h2>
    <p>Laura Marshall</p>
    </div>

    <div class="section level2">
    <h2 id="ref-examples">Examples<a class="anchor" aria-label="anchor" href="#ref-examples"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span><span class="co"># A basic study rectangular study region</span></span></span>
<span class="r-in"><span><span class="va">region</span> <span class="op">&lt;-</span> <span class="fu">make.region</span><span class="op">(</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/graphics/plot.default.html" class="external-link">plot</a></span><span class="op">(</span><span class="va">region</span><span class="op">)</span></span></span>
<span class="r-plt img"><img src="make.region-1.png" alt="" width="700" height="433"></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co">#Load the region from a projected shapefile</span></span></span>
<span class="r-in"><span><span class="va">shapefile.name</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/system.file.html" class="external-link">system.file</a></span><span class="op">(</span><span class="st">"extdata"</span>, <span class="st">"TrackExample.shp"</span>, package <span class="op">=</span> <span class="st">"dssd"</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">region</span> <span class="op">&lt;-</span> <span class="fu">make.region</span><span class="op">(</span>region.name <span class="op">=</span> <span class="st">"study area"</span>,</span></span>
<span class="r-in"><span>                      shape <span class="op">=</span> <span class="va">shapefile.name</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/graphics/plot.default.html" class="external-link">plot</a></span><span class="op">(</span><span class="va">region</span><span class="op">)</span></span></span>
<span class="r-plt img"><img src="make.region-2.png" alt="" width="700" height="433"></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co">#Load a multi strata unprojected shapefile</span></span></span>
<span class="r-in"><span><span class="va">shapefile.name</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/system.file.html" class="external-link">system.file</a></span><span class="op">(</span><span class="st">"extdata"</span>, <span class="st">"AreaRStrata.shp"</span>, package <span class="op">=</span> <span class="st">"dssd"</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="co"># Need to load shapefile first as it is not projected</span></span></span>
<span class="r-in"><span><span class="va">sf.shape</span> <span class="op">&lt;-</span> <span class="fu">sf</span><span class="fu">::</span><span class="fu"><a href="https://r-spatial.github.io/sf/reference/st_read.html" class="external-link">read_sf</a></span><span class="op">(</span><span class="va">shapefile.name</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="co"># Check current coordinate reference system</span></span></span>
<span class="r-in"><span><span class="fu">sf</span><span class="fu">::</span><span class="fu"><a href="https://r-spatial.github.io/sf/reference/st_crs.html" class="external-link">st_crs</a></span><span class="op">(</span><span class="va">sf.shape</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Coordinate Reference System:</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   User input: WGS 84 </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   wkt:</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> GEOGCRS["WGS 84",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     DATUM["World Geodetic System 1984",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>         ELLIPSOID["WGS 84",6378137,298.257223563,</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>             LENGTHUNIT["metre",1]]],</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     PRIMEM["Greenwich",0,</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>         ANGLEUNIT["degree",0.0174532925199433]],</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     CS[ellipsoidal,2],</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>         AXIS["latitude",north,</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>             ORDER[1],</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>             ANGLEUNIT["degree",0.0174532925199433]],</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>         AXIS["longitude",east,</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>             ORDER[2],</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>             ANGLEUNIT["degree",0.0174532925199433]],</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     ID["EPSG",4326]]</span>
<span class="r-in"><span><span class="co"># Define a European Albers Equal Area projection</span></span></span>
<span class="r-in"><span><span class="va">proj4string</span> <span class="op">&lt;-</span> <span class="st">"+proj=aea +lat_1=43 +lat_2=62 +lat_0=30 +lon_0=-9 +x_0=0 +</span></span></span>
<span class="r-in"><span><span class="st">                y_0=0 +ellps=intl +units=km"</span></span></span>
<span class="r-in"><span><span class="co"># Project the study area on to a flat plane</span></span></span>
<span class="r-in"><span><span class="va">projected.shape</span> <span class="op">&lt;-</span> <span class="fu">sf</span><span class="fu">::</span><span class="fu"><a href="https://r-spatial.github.io/sf/reference/st_transform.html" class="external-link">st_transform</a></span><span class="op">(</span><span class="va">sf.shape</span>, crs <span class="op">=</span> <span class="va">proj4string</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="co"># Create region with default strata names</span></span></span>
<span class="r-in"><span><span class="va">region</span> <span class="op">&lt;-</span> <span class="fu">make.region</span><span class="op">(</span>region.name <span class="op">=</span> <span class="st">"study area"</span>,</span></span>
<span class="r-in"><span>                      shape <span class="op">=</span> <span class="va">projected.shape</span><span class="op">)</span></span></span>
<span class="r-wrn co"><span class="r-pr">#&gt;</span> <span class="warning">Warning: </span>Automatically naming strata as no (or incorrect number of) strata names provided. Assigned strata names: A, B, C, D, E, F</span>
<span class="r-in"><span><span class="co"># By plotting the region we can verify the order of the strata</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/graphics/plot.default.html" class="external-link">plot</a></span><span class="op">(</span><span class="va">region</span><span class="op">)</span></span></span>
<span class="r-plt img"><img src="make.region-3.png" alt="" width="700" height="433"></span>
<span class="r-in"><span></span></span>
</code></pre></div>
    </div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p>We improve our site and software support by using Microsoft Clarity to see <br> how you use our website. By using our site, you agree that we and Microsoft <br> can collect and use this data. Clarity is GDPR compliant.</p>
</div>

<div class="pkgdown-footer-right">
  <p>If you wish to donate to development and maintenance, please <a href="mailto:distance@st-andrews.ac.uk">email us</a>.</p>
</div>

    </footer></div>





  </body></html>

